(function(){var r=function(){function n(a){return String(a).replace(/&(?!\w+;)|[<>"']/g,function(a){return m[a]||a})}var c=Object.prototype.toString;Array.isArray=Array.isArray||function(a){return"[object Array]"==c.call(a)};var b=String.prototype.trim,k;if(b)k=function(a){return null==a?"":b.call(a)};else{var h,f;/\S/.test("\u00a0")?(h=/^[\s\xA0]+/,f=/[\s\xA0]+$/):(h=/^\s+/,f=/\s+$/);k=function(a){return null==a?"":a.toString().replace(h,"").replace(f,"")}}var m={"&":"&amp;","<":"&lt;",">":"&gt;",
'"':"&quot;","'":"&#39;"},p={},q=function(){};q.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(a,e,d,g){g||(this.context=e,this.buffer=[]);if(this.includes("",a)){a=this.render_pragmas(a);var l=this.render_section(a,e,d);!1===l&&(l=this.render_tags(a,e,d,g));if(g)return l;this.sendLines(l)}else{if(g)return a;this.send(a)}},send:function(a){""!==a&&this.buffer.push(a)},sendLines:function(a){if(a){a=a.split("\n");for(var e=
0;e<a.length;e++)this.send(a[e])}},render_pragmas:function(a){if(!this.includes("%",a))return a;var e=this,d=this.getCachedRegex("render_pragmas",function(a,e){return new RegExp(a+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+e,"g")});return a.replace(d,function(a,d,b){if(!e.pragmas_implemented[d])throw{message:"This implementation of mustache doesn't understand the '"+d+"' pragma"};e.pragmas[d]={};b&&(a=b.split("="),e.pragmas[d][a[0]]=a[1]);return""})},render_partial:function(a,e,d){a=k(a);if(!d||void 0===d[a])throw{message:"unknown_partial '"+
a+"'"};return e&&"object"==typeof e[a]?this.render(d[a],e[a],d,!0):this.render(d[a],e,d,!0)},render_section:function(a,e,d){if(!this.includes("#",a)&&!this.includes("^",a))return!1;var g=this,b=this.getCachedRegex("render_section",function(a,d){return new RegExp("^([\\s\\S]*?)"+a+"(\\^|\\#)\\s*(.+)\\s*"+d+"\n*([\\s\\S]*?)"+a+"\\/\\s*\\3\\s*"+d+"\\s*([\\s\\S]*)$","g")});return a.replace(b,function(a,b,l,c,f,k){a=b?g.render_tags(b,e,d,!0):"";k=k?g.render(k,e,d,!0):"";var h;c=g.find(c,e);"^"===l?h=!c||
Array.isArray(c)&&0===c.length?g.render(f,e,d,!0):"":"#"===l&&(h=Array.isArray(c)?g.map(c,function(a){return g.render(f,g.create_context(a),d,!0)}).join(""):g.is_object(c)?g.render(f,g.create_context(c),d,!0):"function"==typeof c?c.call(e,f,function(a){return g.render(a,e,d,!0)}):c?g.render(f,e,d,!0):"");return a+h+k})},render_tags:function(a,e,d,g){var b=this,c=function(){return b.getCachedRegex("render_tags",function(a,d){return new RegExp(a+"(=|!|>|&|\\{|%)?([^#\\^]+?)\\1?"+d+"+","g")})},f=c(),
k=function(a,g,h){switch(g){case "!":return"";case "=":return b.set_delimiters(h),f=c(),"";case ">":return b.render_partial(h,e,d);case "{":case "&":return b.find(h,e);default:return n(b.find(h,e))}};a=a.split("\n");for(var h=0;h<a.length;h++)a[h]=a[h].replace(f,k,this),g||this.send(a[h]);if(g)return a.join("\n")},set_delimiters:function(a){a=a.split(" ");this.otag=this.escape_regex(a[0]);this.ctag=this.escape_regex(a[1])},escape_regex:function(a){arguments.callee.sRE||(arguments.callee.sRE=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)",
"g"));return a.replace(arguments.callee.sRE,"\\$1")},find:function(a,e){function d(a){return!1===a||0===a||a}a=k(a);var g;if(a.match(/([a-z_]+)\./ig)){var b=this.walk_context(a,e);d(b)&&(g=b)}else d(e[a])?g=e[a]:d(this.context[a])&&(g=this.context[a]);return"function"==typeof g?g.apply(e):void 0!==g?g:""},walk_context:function(a,e){for(var d=a.split("."),b=void 0!=e[d[0]]?e:this.context,c=b[d.shift()];void 0!=c&&0<d.length;)b=c,c=c[d.shift()];return"function"==typeof c?c.apply(b):c},includes:function(a,
b){return-1!=b.indexOf(this.otag+a)},create_context:function(a){if(this.is_object(a))return a;var b=".";this.pragmas["IMPLICIT-ITERATOR"]&&(b=this.pragmas["IMPLICIT-ITERATOR"].iterator);var d={};d[b]=a;return d},is_object:function(a){return a&&"object"==typeof a},map:function(a,b){if("function"==typeof a.map)return a.map(b);for(var d=[],c=a.length,f=0;f<c;f++)d.push(b(a[f]));return d},getCachedRegex:function(a,b){var d=p[this.otag];d||(d=p[this.otag]={});var c=d[this.ctag];c||(c=d[this.ctag]={});
(d=c[a])||(d=c[a]=b(this.otag,this.ctag));return d}};return{name:"mustache.js",version:"0.4.0",to_html:function(a,b,d,c){var f=new q;c&&(f.send=c);f.render(a,b||{},d);if(!c)return f.buffer.join("\n")}}}();(function(){function n(b){return"".trim?b.trim():b.replace(/^\s+/,"").replace(/\s+$/,"")}var c={VERSION:"0.10.2",templates:{},$:"undefined"!==typeof window?window.jQuery||window.Zepto||null:null,addTemplate:function(b,k){if("object"===typeof b)for(var h in b)this.addTemplate(h,b[h]);else c[b]?console.error("Invalid name: "+
b+"."):c.templates[b]?console.error('Template "'+b+'  " exists'):(c.templates[b]=k,c[b]=function(f,h){f=f||{};var k=r.to_html(c.templates[b],f,c.templates);return c.$&&!h?c.$(n(k)):k})},clearAll:function(){for(var b in c.templates)delete c[b];c.templates={}},refresh:function(){c.clearAll();c.grabTemplates()},grabTemplates:function(b){var k,h=(b||document).getElementsByTagName("script"),f,m=[];b=0;for(k=h.length;b<k;b++)(f=h[b])&&f.innerHTML&&f.id&&("text/html"===f.type||"text/x-icanhaz"===f.type)&&
(c.addTemplate(f.id,n(f.innerHTML)),m.unshift(f));b=0;for(k=m.length;b<k;b++)m[b].parentNode.removeChild(m[b])}};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=c),exports.ich=c):this.ich=c;"undefined"!==typeof document&&(c.$?c.$(function(){c.grabTemplates()}):document.addEventListener("DOMContentLoaded",function(){c.grabTemplates()},!0))})()})();
